# 🧹 立即清理重复数据

## 问题
每次打开页面 `http://localhost:5173/` 都会多出空行。

## 原因
- React Strict Mode 在开发模式下会双重渲染
- 数据库初始化被调用多次
- 创建了重复的欢迎页面和空块

## ✅ 已经修复
代码已经更新，**以后不会再出现重复**：
- ✅ 添加初始化锁
- ✅ 数据库版本升级到 v2
- ✅ 自动清理重复页面
- ✅ 防止重复创建空块

## 🚀 立即清理（3 步）

### 步骤 1：打开控制台
1. 访问 `http://localhost:5173`
2. 按 **F12** 或右键 → 检查
3. 点击 **Console** 标签

你会看到：
```
🛠️ 开发工具已加载！使用以下命令：
  - devTools.stats()          查看数据库统计
  - devTools.cleanup()        清理重复页面和空块
  ...
```

### 步骤 2：运行清理命令
在控制台输入并按 Enter：
```javascript
devTools.cleanup()
```

### 步骤 3：等待完成
- 会显示清理进度
- 页面自动刷新
- ✅ 数据已清理干净！

## 📊 可选：查看数据统计

在清理前后，可以运行：
```javascript
devTools.stats()
```

会显示类似：
```
📊 数据库统计信息：
  - 页面数量: 3
  - 块数量: 45
  - 对话数量: 0
  - 总大小: 约 2 KB
```

## 🎯 验证结果

清理后，你应该看到：
- ✅ 只有 1 个"欢迎使用 AI 大纲笔记"页面
- ✅ 没有多余的空行
- ✅ 你自己创建的页面和内容都保留

## ⚠️ 如果遇到问题

### 方案 A：彻底重置（清除所有数据）
```javascript
devTools.reset()
```
**警告**：会删除所有笔记！

### 方案 B：手动清除数据库
1. F12 → Application 标签
2. Storage → IndexedDB → NotesDatabase
3. 右键 → Delete Database
4. 刷新页面

## 💾 备份数据（可选）

清理前先备份：
```javascript
devTools.export()
```
会下载一个 JSON 文件到本地。

---

**记住**：只需要清理一次！以后不会再出现重复问题。

